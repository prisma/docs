---
title: resolve
description: Resolve issues with database migrations in deployment databases
metaTitle: prisma migrate resolve | Fix Migration History Issues
metaDescription: 'Resolve migration history issues with prisma migrate resolve. Mark failed migrations as applied or rolled back. Supports baselining.'
url: /docs/cli/migrate/resolve
---

The `prisma migrate resolve` command allows you to solve migration history issues in production by marking a failed migration as already applied (supports baselining) or rolled back.

:::warning

This command is not supported on [MongoDB](/docs/orm/core-concepts/supported-databases/mongodb). Use [`db push`](/docs/cli/db/push) instead.

:::

## Usage

```bash
prisma migrate resolve [options]
```

The datasource URL configuration is read from the Prisma config file (e.g., `prisma.config.ts`).

:::note

This command can only be used with a failed migration. Using it with a successful migration results in an error.

:::

## Use cases

- Recover from failed migrations
- Baseline databases when starting to use Prisma Migrate on existing databases
- Reconcile hotfixes done manually on databases with your migration history

Run `prisma migrate status` to identify if you need to use `resolve`.

## Options

| Option          | Description                                |
| --------------- | ------------------------------------------ |
| `-h`, `--help`  | Display help message                       |
| `--config`      | Custom path to your Prisma config file     |
| `--schema`      | Custom path to your Prisma schema          |
| `--applied`     | Record a specific migration as applied     |
| `--rolled-back` | Record a specific migration as rolled back |

You must specify either `--applied` or `--rolled-back`.

## Examples

### Mark a migration as applied

```npm
npx prisma migrate resolve --applied 20201231000000_add_users_table
```

### Mark a migration as rolled back

```npm
npx prisma migrate resolve --rolled-back 20201231000000_add_users_table
```

### Specify a schema path

```npm
npx prisma migrate resolve --rolled-back 20201231000000_add_users_table --schema=./schema.prisma
```

## See also

- [Resolving migration history issues](https://pris.ly/d/migrate-resolve)
