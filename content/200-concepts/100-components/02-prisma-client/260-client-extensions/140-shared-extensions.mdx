---
title: 'Shared Prisma Client extensions'
metaTitle: 'Shared Prisma Client extensions (Preview)'
metaDescription: 'Share extensions or import shared extensions into your Prisma project'
tocDepth: 3
---

<TopBlock>

<Admonition type="warning">

This page is in draft.

</Admonition>

You can share your [Prisma Client extensions](/concepts/components/prisma-client/client-extensions/) with other users, either as packages or as code snippets, and import extensions that other users create into your Prisma projects.

</TopBlock>

## Share Prisma Client extensions

When you want to create extensions that will work for other users, and not just for your specific schema, use the `$all` prefix, such as [`$allModels`](/concepts/components/prisma-client/client-extensions/model#add-a-custom-method-to-all-models-in-your-schema). Extensions that use `$all` apply generally, not just to a named component of a specific schema.

For example, a generic extension might take the following form:

```ts
const xprisma = prisma.$extends({
  model: {
    $allModels: {
      getClass<T extends object>(this: T): new () => T {
        return class {
          /** Generic implementation */
        } as any
      },
    },
  },
})

class UserService extends xprisma.user.getClass() {
  method() {
    const user = this.findFirst({}) // fully type-safe
  }
}
```

** TBD: clarify the above example, or choose a simpler example **

### Package an extension

For generic extensions, you cannot predict which `prisma` instance the extension user will want to apply the extension to. This means that you cannot use `prisma.$extends`, which applies to a specific instance. Instead, use `Prisma.createExtension`, which declares the extension, but does not apply it to a specific instance. When someone uses your extension in their project, they can apply it to an instance with `prisma.$extends`.

For example:

```ts
import { Prisma } from '@prisma/client'

export default Prisma.createExtension({
  model: {
    $allModels: {
      // new method
      findOrCreate(...) { } // code for the new method goes inside the brackets
    }
  }
})
```

You can then share the extension on `npm`. When you choose a package name, we recommend that you use the `prisma-extension-<package-name>` convention, to make it easier to find and install.

## Install a packaged extension

In your project, you can install any Prisma Client extension that another user has published to `npm`. To do so, add the following line to your application code:

```ts
npm install prisma-extension-<package-name>
```

For example, if the package name for an available extension is `prisma-extension-find-or-create`, you could install it as follows:

```ts
npm install prisma-extension-find-or-create
```

To import the `find-or-create` extension from the example above, and load it into your client instance, you could use the following code. This example assumes that the extension name is `findOrCreate`.

```ts
import findOrCreate from 'prisma-extension-find-or-create'

const xprisma = prisma.$extends(findOrCreate)
const user = await xprisma.user.findOrCreate({ ... })

xprisma.user.findOrCreate()
```

When you call a method in an extension, use the constant name from your `$extends` statement, not `prisma`. In the above example,`xprisma.user.findOrCreate` works, but `prisma.user.findOrCreate` does not, because the original `prisma` is not modified.
