---
title: 'Instantiating the client'
metaTitle: 'Instantiating the client (Concepts)'
metaDescription: 'How to create and use an instance of PrismaClient in your app.'
---

<TopBlock>

The following example demonstrates how to import and instantiate your [generated client](generating-prisma-client) from the [default path](generating-prisma-client#using-a-custom-output-path):

<TabbedContent tabs={[<FileWithIcon text="TypeScript" icon="code"/>, <FileWithIcon text="Javascript" icon="code"/>]}>

<tab>

```ts
import { PrismaClient } from '@prisma/client'
const prisma = new PrismaClient()
// use `prisma` in your application to read and write data in your DB
```

</tab>

<tab>

```js
const { PrismaClient } = require('@prisma/client')
const prisma = new PrismaClient()
// use `prisma` in your application to read and write data in your DB
```

</tab>

</TabbedContent>

[`PrismaClient` accepts parameters](../../../../reference/api-reference/prisma-client-reference#prismaclient) <span class="api"></span> that determine:

* [Logging levels](logging)
* [Error formatting](error-formatting)
* [The global behavior of `findUnique` and `findOne` queries](../../../../reference/api-reference/prisma-client-reference#rejectonnotfound) <span class="api"></span>

</TopBlock>

## Use a single shared instance of <inlinecode>PrismaClient</inlinecode>

In [most scenarios](#multiple-instances-or-per-request-instances-of-inlinecodeprismaclientinlinecode), we recommend that you create one instance of `PrismaClient` and re-use it across your application. 

Multiple instances of `PrismaClient` results in multiple instances of the query engine, each with its own [connection pool](connection-management#connection-pool) with a default pool size of `num_physical_cpus * 2 + 1`. Too many connections may start to slow down your database and eventually lead to the following error:

```
Error in connector: Error querying the database: db error: FATAL: sorry, too many clients already
    at PrismaClientFetcher.request
```

To re-use a single instance, create a module that exports a `PrismaClient` object:

```ts file=client.ts
import { PrismaClient } from "@prisma/client"

let prisma = new PrismaClient() 

export default prisma
```

The object is [cached](https://nodejs.org/api/modules.html#modules_caching) the first time the module is imported:

```ts file=app.ts
import prisma from './client'

async function main() {

  const allUsers = await prisma.user.findMany();

}

main();
```

Some development environments reload

```ts file=client.ts
import { PrismaClient } from "@prisma/client"

declare global {
    namespace NodeJS {
        interface Global {
            prisma: PrismaClient;
        }
    }
}

let prisma: PrismaClient;

if (process.env.NODE_ENV === "production") {
  prisma = new PrismaClient()
} 
else  
{
  if (!global.prisma) {
    global.prisma = new PrismaClient()
  }

  prisma = global.prisma
}

export default prisma
```

The way that you import and use the client does not change:

```ts file=app.ts
import prisma from './client'

async function main() {

    const allUsers = await prisma.user.findMany();
}

main();
```

## Multiple instances or per-request instances of <inlinecode>PrismaClient</inlinecode>

* Serverless with pgBouncer
* Script that only needs to do one thing
* Long-running process that doesn't need to maintain an open connection