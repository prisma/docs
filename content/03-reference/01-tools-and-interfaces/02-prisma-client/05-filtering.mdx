---
title: 'Filtering'
metaTitle: 'Filtering (Reference)'
metaDescription: 'Advanced filtering use cases.'
---

## Overview

Prisma Client allows you to filter records on any combination of model fields, including related models, and supports a variety of filter conditions.

For example, the following query returns all `User` records with at least one published post and an email address that ends with `prisma.io`:

```javascript
const filteredUsers = await prisma.user.findMany({
  where: {
    email: {
      endsWith: 'prisma.io',
    },
    posts: {
      some: {
        published: true,
      },
    },
  },
})
```

The following queries support filtering:

- `findMany`
- `updateMany`
- `deleteMany`

## Filter conditions

Prisma Client supports the following filter conditions:

| Operator     | Notes                                                |
| ------------ | ---------------------------------------------------- |
| `equals`     |                                                      |
| `not`        | Does not equal.                                      |
| `in`         | Exists in list.                                      |
| `notIn`      | Does not exist in list.                              |
| `lt`         | Less than X.                                         |
| `lte`        | Less than or equal to X.                             |
| `gt`         | Greater than X.                                      |
| `gte`        | Greater than or equal to                             |
| `contains`   | Does not support wildcards - for example, `b[a-c]d`. |
| `startsWith` |                                                      |
| `endsWith`   |                                                      |

### Examples

Retrieve all `Post` records where `title` starts with `Pr` (such as `Prisma`):

```javascript
const result = await prisma.post.findMany({
  where: {
    title: {
      startsWith: 'Pr',
    },
  },
})
```

Retrieve all `User` records where `email` ends with `prisma.io`:

```javascript
const result = await prisma.user.findMany({
  where: {
    email: {
      endsWith: 'prisma.io',
    },
  },
})
```

Retrieve all `Post` records where `content` contains `databases`:

```javascript
const result = await prisma.post.findMany({
  where: {
    content: {
      contains: 'databases',
    },
  },
})
```

Retrieve all `Post` records where `date_created` is greater than March 19th, 2020:

```javascript
const user = await prisma.post.findMany({
  where: {
    date_created: {
      gte: new Date('2020-03-19T14:21:00+0200') /* Includes time offset for UTC */,
    },
  },
})
```

## Combine multiple filter conditions

You can combine multiple filter conditions with the following operators:

| Operator | Notes                                    |
| -------- | ---------------------------------------- |
| `AND`    | All conditions must return true.         |
| `NOT`    | All conditions must return false.        |
| `OR`     | One or more conditions must return true. |

### Examples

Retrieve all `Post` records where the `content` field contains `Prisma` and `published` is `false`:

```javascript
const result = await prisma.post.findMany({
  where: {
    AND: [
      {
        content: {
          contains: 'Prisma',
        },
      },
      {
        published: {
          equals: false,
        },
      },
    ],
  },
})
```

Note that you can write the same query without `AND`:

```javascript
const result = await prisma.post.findMany({
  where: {
    content: {
      contains: 'Prisma',
    },
    published: {
      equals: false,
    },
  },
})
```

Retrieve all `Post` records where the `title` field contains `Prisma` or `databases`:

```javascript
const result2 = await prisma.post.findMany({
  where: {
    OR: [
      {
        title: {
          contains: 'Prisma',
        },
      },
      {
        title: {
          contains: 'databases',
        },
      },
    ],
  },
})
```

Retrieve all `Post` records where the `title` field contains `Prisma` or `databases`, and `published` is `false`:

```javascript
const result = await prisma.post.findMany({
  where: {
    OR: [
      {
        title: {
          contains: 'Prisma',
        },
      },
      {
        title: {
          contains: 'databases',
        },
      },
    ],
    AND: {
      published: false,
    },
  },
})
```

Retrieve all `Post` records where the `title` filed contains `Prisma` or `databases`, but not `SQL`:

```javascript
const result2 = await prisma.post.findMany({
  where: {
    OR: [
      {
        title: {
          contains: 'Prisma',
        },
      },
      {
        title: {
          contains: 'databases',
        },
      },
    ],
    NOT: {
      title: {
        contains: 'SQL',
      },
    },
  },
})
```

You can [enable logging](logging) to debug complex queries:

```javascript
const prisma = new PrismaClient({
  log: [
    {
      emit: 'event',
      level: 'query',
    },
  ],
})

prisma.on('query', e => {
  e.query, console.log(e)
})
```

## Filter on related records

You can also filter based on related record fields. For example, the following query returns all `Post` records where the user's email address is `sarah@prisma.io`:

```javascript
const result = await prisma.post.findMany({
  where: {
    user: {
      email: {
        equals: 'sarah@prisma.io',
      },
    },
  },
})
```

Prisma Client offers the following operators for filtering on one-to-many relationships:

| Operator | Description                                                                       |
| -------- | --------------------------------------------------------------------------------- |
| `some`   | Returns all records where one or more _related_ records match filtering criteria. |
| `every`  | Returns all records where all _related_ records match filtering criteria.         |
| `none`   | Returns all records where no _related_ records match filtering criteria.          |

### Examples

Retrieve all `User` records where:

- _All_ posts are published
- At least one related `Post` mentions `Prisma`

```javascript
  const record = await prisma.user.findMany({
    where: {
      post: {
          every: {
            published: true
          }
        some: {
          content: {
            contains: "Prisma"
          }
        }
      }
    }
  }
```

Retrieve all `Post` records where:

- The `title` field contains `Prisma` or `databases`, but not `SQL`
- The related `User` record' email address does

```javascript
const result = await prisma.post.findMany({
  where: {
    OR: [
      {
        title: {
          contains: 'Prisma',
        },
      },
      {
        title: {
          contains: 'databases',
        },
      },
    ],
    NOT: {
      title: {
        contains: 'SQL',
      },
    },
    user: {
      NOT: {
        email: {
          contains: 'sarah',
        },
      },
    },
  },
  include: {
    user: true,
  },
})
```
