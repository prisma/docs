---
title: "Prisma Config reference"
metaTitle: "Reference documentation for the prisma config file"
metaDescription: "This page gives an overview of all Prisma config options available for use."
sidebar_label: "Prisma Config"
---

## Overview

The Prisma Config file configures the Prisma CLI, including subcommands like `migrate` and `studio`, using TypeScript.

You can define your config in either of two ways:

- Using the `defineConfig` helper:
  ```ts
  import path from "node:path";
  import { defineConfig, env } from "prisma/config";

  export default defineConfig({
    schema: path.join("prisma", "schema.prisma"),
    migrations: { 
      path: path.join("db", "migrations"),
    },
    views: { 
      path: path.join("db", "views"),
    },
    typedSql: { 
    path: path.join("db", "queries"),
    },
    engine: "classic",
    datasource: { 
      url: env("DATABASE_URL") 
    }
  });
  ```

- Using TypeScript's `satisfies` operator with the `PrismaConfig` type:
  ```ts
  import path from "node:path";
  import type { PrismaConfig } from "prisma";

  export default {
    schema: path.join("db", "schema.prisma"),
    migrations: {
      path: path.join("db", "migrations"),
    },
    views: {
      path: path.join("db", "views"),
    },
    typedSql: {
      path: path.join("db", "queries"),
    },
    engine: "classic",
    datasource: { 
      url: env("DATABASE_URL") 
    }
  } satisfies PrismaConfig;
  ```

## Configuration interface

Here is a simplified version of the `PrismaConfig` type:

```ts
export declare type PrismaConfig = {

  // Whether features with an unstable API are enabled.
  experimental: {
    adapter: boolean;
    externalTables: boolean;
    studio: boolean;
  },

  // The path to the schema file, or path to a folder that shall be recursively searched for *.prisma files.
  schema?: string;

  // The Driver Adapter used for Prisma CLI.
  adapter?: () => Promise<SqlMigrationAwareDriverAdapterFactory>;

  // Configuration for Prisma Studio.
  studio?: {
    adapter: () => Promise<SqlMigrationAwareDriverAdapterFactory>;
  };

  // Configuration for Prisma migrations.
  migrations?: {
    path: string;
    seed: string;
    initShadowDb: string;
  };

  // Configuration for the database view entities.
  views?: {
    path: string;
  };

  // Configuration for the `typedSql` preview feature.
  typedSql?: {
    path: string;
  };
  // Depending on the choice, you must provide either a `datasource` object or driver adapter
  engine: 'classic' | 'js'
  
  // If using the classic engine, datasource sets the database url, shadowDatabaseUrl, or directURL
  datasource?: {
    url: string;
    directUrl?: string;
    shadowDatabaseUrl?: string;
  }
  
};
```

## Supported file extensions

Prisma Config files can be named as `prisma.config.*` or `.config/prisma.*` with the extensions `js`, `ts`, `mjs`, `cjs`, `mts`, or `cts`. Other extensions are supported to ensure compatibility with different TypeScript compiler settings.

:::tip[Recommendation]

- Use **`prisma.config.ts`** for small TypeScript projects.  
- Use **`.config/prisma.ts`** for larger TypeScript projects with multiple configuration files (following the [`.config` directory proposal](https://github.com/pi0/config-dir)).  

:::

## Options reference


### `schema`

Configures how Prisma ORM locates and loads your schema file(s). Can be a file or folder path. Relative paths are resolved relative to the `prisma.config.ts` file location. See [here](/orm/prisma-schema/overview/location#multi-file-prisma-schema) for more info about schema location options.

| Property | Type     | Required | Default                                        |
| -------- | -------- | -------- | ---------------------------------------------- |
| `schema` | `string` | No       | `./prisma/schema.prisma` and `./schema.prisma` |

### `adapter`

A function that returns a Prisma driver adapter instance which is used by the Prisma CLI to run migrations. The function should return a `Promise` that resolves to a valid Prisma driver adapter.

| Property          | Type                                                           | Required | Default |
| ----------------- | -------------------------------------------------------------- | -------- | ------- |
| `adapter` | `() => Promise<SqlMigrationAwareDriverAdapterFactory>` | No       | none    |

Example using the Prisma ORM D1 driver adapter:

```ts
import path from "node:path";
import type { PrismaConfig } from "prisma";
import { PrismaD1 } from "@prisma/adapter-d1";

export default {
  experimental: {
    adapter: true
  },
  schema: path.join("prisma", "schema.prisma"),
  async adapter() {
    return new PrismaD1({
      CLOUDFLARE_D1_TOKEN: process.env.CLOUDFLARE_D1_TOKEN,
      CLOUDFLARE_ACCOUNT_ID: process.env.CLOUDFLARE_ACCOUNT_ID,
      CLOUDFLARE_DATABASE_ID: process.env.CLOUDFLARE_DATABASE_ID,
    });
  },
} satisfies PrismaConfig;
```

:::note

As of [Prisma ORM v6.11.0](https://github.com/prisma/prisma/releases/tag/6.11.0), the D1 adapter has been renamed from `PrismaD1HTTP` to `PrismaD1`.

:::

### `studio`

Configures how Prisma Studio connects to your database. See sub-options below for details.

| Property | Type     | Required | Default |
| -------- | -------- | -------- | ------- |
| `studio` | `object` | No       | none    |

#### `studio.adapter`

A function that returns a Prisma driver adapter instance. The function receives an `env` parameter containing environment variables and should return a `Promise` that resolves to a valid Prisma driver adapter.

| Property          | Type                                                           | Required | Default |
| ----------------- | -------------------------------------------------------------- | -------- | ------- |
| `studio.adapter ` | `(env: Env) => Promise<SqlMigrationAwareDriverAdapterFactory>` | No       | none    |

Example using the Prisma ORM LibSQL driver adapter:

```ts
import type { PrismaConfig } from "prisma";

export default {
  experimental: {
    studio: true
  },
  studio: {
    adapter: async (env: Env) => {
      const { PrismaLibSQL } = await import("@prisma/adapter-libsql");
      const { createClient } = await import("@libsql/client");

      const libsql = createClient({
        url: env.DOTENV_PRISMA_STUDIO_LIBSQL_DATABASE_URL,
      });
      return new PrismaLibSQL(libsql);
    },
  },
} satisfies PrismaConfig;
```

### `tables.external` and `enums.external`

These options declare tables and enums in your database that are **managed externally** (not by Prisma Migrate). You can still query them with Prisma Client, but they will be ignored by migrations.

| Property          | Type       | Required | Default |
| ----------------- | ---------- | -------- | ------- |
| `tables.external` | `string[]` | No       | `[]`    |
| `enums.external`  | `string[]` | No       | `[]`    |

**Example:**

```ts
import { defineConfig } from "prisma/config";

export default defineConfig({
  experimental: {
    externalTables: true,
  },
  tables: {
    external: ["public.users"],
  },
  enums: {
    external: ["public.role"],
  },
});
```

Learn more about the [`externalTables` feature here](/orm/prisma-schema/data-model/externally-managed-tables). 

### `migrations.path`

The path to the directory where Prisma should store migration files, and look for them.

| Property          | Type     | Required | Default |
| ----------------- | -------- | -------- | ------- |
| `migrations.path` | `string` | No       | none    |

### `migrations.seed`

This option allows you to define a script that Prisma runs to seed your database after running migrations or using the npx prisma db seed command. The string should be a command that can be executed in your terminal, such as with `node`, `ts-node`, or `tsx`.

| Property          | Type     | Required | Default |
| ----------------- | -------- | -------- | ------- |
| `migrations.seed` | `string` | No       | none    |

**Example:**

```ts
import { defineConfig } from "prisma/config";

export default defineConfig({
  migrations: {
    seed: `tsx db/seed.ts`,
  },
});
```

### `migrations.initShadowDb`

This option allows you to define SQL statements that Prisma runs on the **shadow database** before creating migrations. It is useful when working with [external managed tables](/orm/prisma-schema/data-model/externally-managed-tables), as Prisma needs to know about the structure of these tables to correctly generate migrations.

| Property                  | Type     | Required | Default |
| ------------------------- | -------- | -------- | ------- |
| `migrations.initShadowDb` | `string` | No       | none    |

**Example:**

```ts
import { defineConfig } from "prisma/config";

export default defineConfig({
  experimental: {
    externalTables: true,
  },
  tables: {
    external: ["public.users"],
  },
  migrations: {
    initShadowDb: `
      CREATE TABLE public.users (id SERIAL PRIMARY KEY);
    `,
  },
});
```

Learn more about the [`externalTables` feature here](/orm/prisma-schema/data-model/externally-managed-tables). 

### `views.path`

The path to the directory where Prisma should look for the SQL view definitions.

| Property     | Type     | Required | Default |
| ------------ | -------- | -------- | ------- |
| `views.path` | `string` | No       | none    |

### `typedSql.path`

The path to the directory where Prisma should look for the SQL files used for generating typings via [`typedSql`](/orm/prisma-client/using-raw-sql/typedsql).

| Property        | Type     | Required | Default |
| --------------- | -------- | -------- | ------- |
| `typedSql.path` | `string` | No       | none    |

### `experimental`

Enables specific experimental features in the Prisma CLI.

| Property         | Type      | Required | Default |
| ---------------- | --------- | -------- | ------- |
| `adapter`        | `boolean` | No       | `false` |
| `externalTables` | `boolean` | No       | `false` |
| `studio`         | `boolean` | No       | `false` |

Example:

```ts
import { defineConfig } from "prisma/config";

export default defineConfig({
  experimental: {
    adapter: true,
    externalTables: true,
    studio: true,
  },
  schema: "prisma/schema.prisma",
});
```

:::note

If you use features like `adapter`, `studio` or `externalTables` without enabling the corresponding experimental flag, Prisma will throw an error:

```terminal
Failed to load config file "~" as a TypeScript/JavaScript module. Error: Error: The `studio` configuration requires `experimental.studio` to be set to `true`.
```

:::


### `engine`

Configure the schema engine your project should use.

| Property | Type               | Required | Default           |
| -------- | ------------------ | -------- | ----------------- |
| `engine` | `classic` or `js`  | No       | `classic`         |

 By default it is set to use the classic engine, which requires that `datasource` be set
 in your `prisma.config.ts`. 

```ts
import path from "node:path";
import { defineConfig, env } from "prisma/config";
export default defineConfig({
  engine: "classic",
  datasource: {
      url: env('DATABASE_URL'),
  },
  schema: path.join("prisma", "schema.prisma"),
});
```

### `datasource.url`

Connection URL including authentication info. Most connectors use [the syntax provided by the database](/orm/reference/connection-urls#format).

:::note
Replaces the deprecated `url` field in the Prisma schema `datasource` block (Prisma ORM v7 and later).
::: 

| Property         | Type               | Required | Default           |
| --------         | ------------------ | -------- | ----------------- |
| `datasource.url` | `string`           | Yes       | `''`              |


### `datasource.shadowDatabaseUrl`

Connection URL to the shadow database used by Prisma Migrate. Allows you to use a cloud-hosted database as the shadow database

:::note
Replaces the deprecated `shadowDatabaseUrl` field in the Prisma schema `datasource` block (Prisma ORM v7 and later).
:::

| Property                       | Type               | Required | Default           |
| --------                       | ------------------ | -------- | ----------------- |
| `datasource.shadowDatabaseUrl` | `string`           | No       | `''`              |


### `datasource.directUrl`

Connection URL for direct connection to the database.

:::note
Replaces the deprecated `directUrl` field in the Prisma schema `datasource` block (Prisma ORM v7 and later).
:::

If you use a connection pooler URL in the `url` argument (for example, if you use [Prisma Accelerate](/accelerate) or pgBouncer), Prisma CLI commands that require a direct connection to the database use the URL in the `directUrl` argument. <br/> <br/> The `directUrl` property is supported by Prisma Studio from version 5.1.0 upwards. <br/> <br/> The `directUrl` property is not needed when using [Prisma Postgres](/postgres) database.

| Property               | Type               | Required | Default           |
| --------               | ------------------ | -------- | ----------------- |
| `datasource.directUrl` | `string`           | No       | `''`              |




## Common patterns

### Setting up your project

To get started with Prisma Config, create a `prisma.config.ts` file in your project root. You can use either of these approaches:

Using `defineConfig`:

```ts
import { defineConfig } from "prisma/config";

export default defineConfig({});
```

Using TypeScript types:

```ts
import type { PrismaConfig } from "prisma";

export default {} satisfies PrismaConfig;
```

### Using environment variables

When using `prisma.config.ts`, environment variables from `.env` files are not automatically loaded. Using `tsx`, you can pass a `--env-file` flag and that will automatically add those values to `process.env` 

If using Node or Deno: 

```terminal
tsx --env-file=.env src/index.ts
tsx watch --env-file=.env --env-file=.local.env src/index.ts
tsx --env-file=.env ./prisma/seed.ts
```

For Bun, `.env` files are automatically loaded.

For accessing environment variables within `prisma.config.ts`, use the `env()` helper function to
provide a type-safe way of accessing that variable:

```tsx
import path from "node:path";
import { defineConfig, env } from "prisma/config";

type Env = {
  DATABASE_URL: string
}
export default defineConfig({
  engine: "classic",
  datasource: {
      url: env<Env>('DATABASE_URL'),
  },
  schema: path.join("prisma", "schema.prisma"),
});
```

For releases of Node before v20, you'll need to: 

1. Install the `dotenv` package:

```terminal
npm install dotenv
```

2. Import `dotenv/config` in your config file:

```ts
import "dotenv/config";
import { defineConfig, env } from "prisma/config";

type Env = {
  DATABASE_URL: string
}
export default defineConfig({
  engine: "classic",
  datasource: {
      url: env<Env>('DATABASE_URL'),
  },
  schema: path.join("prisma", "schema.prisma"),
});
```

### Using multi-file schemas

If you want to split your Prisma schema into multiple files, you need to specify the path to your Prisma schema folder via the `schema` property:

```ts
import path from "node:path";
import type { PrismaConfig } from "prisma";

export default {
  schema: path.join("prisma", "schema"),
} satisfies PrismaConfig;
```

In that case, your `migrations` directory must be located next to the `.prisma` file that defines the `datasource` block.

For example, assuming `schema.prisma` defines the `datasource`, here's how how need to place the migrations folder:

```
# `migrations` and `schema.prisma` are on the same level
.
├── migrations
├── models
│   ├── posts.prisma
│   └── users.prisma
└── schema.prisma
```

## Path resolution

Prisma CLI commands such as `prisma validate` or `prisma migrate` use `prisma.config.ts` (or `.config/prisma.ts`) to locate your Prisma schema and other resources.

**Key rules:**

- Paths defined in the config file (e.g., `schema`, `migrations`) are always resolved **relative to the location of the config file**, not where you run the CLI command from.
- The CLI must first **find the config file** itself, which depends on how Prisma is installed and the package manager used.


### Behavior with `pnpm prisma`

When Prisma is installed locally and run via `pnpm prisma`, the config file is detected automatically whether you run the command from the project root or a subdirectory.

Example project tree:

```
.
├── node_modules
├── package.json
├── prisma-custom
│   └── schema.prisma
├── prisma.config.ts
└── src
```

Example run from the project root:

```bash
pnpm prisma validate
# → Loaded Prisma config from ./prisma.config.ts
# → Prisma schema loaded from prisma-custom/schema.prisma
```

Example run from a subdirectory:

```bash
cd src
pnpm prisma validate
# → Still finds prisma.config.ts and resolves schema correctly
```

### Behavior with `npm exec prisma` or `bun prisma`

When running via `npm exec prisma` or `bun prisma`, the CLI only detects the config file if the command is run from the **project root** (where `package.json` declares Prisma).

Example run from the project root:

```bash
npm exec prisma validate
# → Works as expected
```

Run from a subdirectory (fails):

```bash
cd src
npm exec prisma validate
# → Error: Could not find Prisma Schema...
```

To fix this, you can use the `--config` flag:

```bash
npm exec prisma -- --config ../prisma.config.ts validate
```

### Global Prisma installations

If Prisma is installed globally (`npm i -g prisma`), it may not find your `prisma.config.ts` or `prisma/config` module by default.
To avoid issues:

- Prefer local Prisma installations in your project.
- Or use `prisma/config` locally and pass `--config` to point to your config file.

### Monorepos

- If Prisma is installed in the **workspace root**, `pnpm prisma` will detect the config file from subdirectories.
- If Prisma is installed in a **subpackage** (e.g., `./packages/db`), run commands from that package directory or deeper.

### Custom config location

You can specify a custom location for your config file when running Prisma CLI commands:

```terminal
prisma validate --config ./path/to/myconfig.ts
```