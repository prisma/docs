---
title: 'Excluding fields'
metaTitle: 'Excluding fields'
metaDescription: 'This page explains how to exclude sensitive fields from Prisma Client'
---

By default Prisma Client returns all fields from a model. You can use `select` to narrow the result set, but that can be unwieldy if you have a large model and you only want to exclude one or two fields.

:::info

As of Prisma ORM 5.16.0, excluding fields globally and locally is supported via the `omitApi` Preview feature.

:::

## Excluding a field globally using `omit`

The following is a type-safe way to exclude a field globally using the `omitApi` Preview feature.

<TabbedContent code>

<TabItem value="Schema">

```prisma
generator client {
  provider        = "prisma-client-js"
  previewFeatures = ["omitApi"]
}

model User {
  id        Int      @id @default(autoincrement())
  firstName String
  lastName  String
  email     String   @unique
  password  String
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}
```

</TabItem>

<TabItem value="Code">

```tsx
const prisma = new PrismaClient({
  omit: {
    user: {
      password: true
    }
  }
})

// The password field is excluded in all queries, including this one
const user = await prisma.user.findUnique({ where: { id: 1 } })
```

</TabItem>

</TabbedContent>

## Excluding a field locally using `omit`

The following is a type-safe way to exclude a field locally using the `omitApi` Preview feature.

<TabbedContent code>

<TabItem value="Schema">

```prisma
generator client {
  provider        = "prisma-client-js"
  previewFeatures = ["omitApi"]
}

model User {
  id        Int      @id @default(autoincrement())
  firstName String
  lastName  String
  email     String   @unique
  password  String
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}
```

</TabItem>

<TabItem value="Code">

```tsx
const prisma = new PrismaClient()

// The password field is excluded only in this query
const user = await prisma.user.findUnique({
  omit: {
    password: true
  },
  where: { 
    id: 1 
  } 
})
```

</TabItem>

</TabbedContent>

## How to select a previously omitted field

If you [omit a field globally](#excluding-a-field-globally-using-omit), you can select it by setting `omit` to `false` in any query.

```tsx
const user = await prisma.user.findUnique({
  omit: {
    password: false // The password field is now selected.
  },
  where: {
    id: 1
  }
})
```

## When to use `omit` globally or locally

When beginning to use `omit`, it's important to understand why a field is being omitted in the first place. 

- If you are omitting a field due to security reasons, it's best to omit it globally. 
- If you are omitting a field because it's not needed in a query, it's best to omit it locally.

## Excluding the password field without using `omit`

:::note

The `omitApi` Preview feature, released in Prisma ORM 5.13.0, is the preferred way of omitting fields.
This documentation is still relevant for versions of Prisma ORM prior to 5.13.0.

:::

The following is a type-safe `exclude` function returns a user without the `password` field.

<TabbedContent code>

<TabItem value="TypeScript">

```tsx
// Exclude keys from user
function exclude<User, Key extends keyof User>(
  user: User,
  keys: Key[]
): Omit<User, Key> {
  return Object.fromEntries(
    Object.entries(user).filter(([key]) => !keys.includes(key))
  )
}

function main() {
  const user = await prisma.user.findUnique({ where: 1 })
  const userWithoutPassword = exclude(user, ['password'])
}
```

</TabItem>

<TabItem value="JavaScript">

```js
// Exclude keys from user
function exclude(user, keys) {
  return Object.fromEntries(
    Object.entries(user).filter(([key]) => !keys.includes(key))
  );
}

function main() {
  const user = await prisma.user.findUnique({ where: 1 })
  const userWithoutPassword = exclude(user, ['password'])
}
```

</TabItem>

</TabbedContent>

In the TypeScript example, we've provided two generics: `User` and `Key`. The `Key` generic is defined as the keys of a `User` (e.g. `email`, `password`, `firstName`, etc.).

These generics flow through the logic, returning a `User` that omits the list of `Key`s provided.
