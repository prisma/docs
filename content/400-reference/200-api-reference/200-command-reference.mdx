---
title: 'Prisma CLI reference'
metaTitle: 'Prisma CLI Command Reference'
metaDescription: 'This page gives an overview of all available Prisma CLI commands, explains their options and shows numerous usage examples.'
tocDepth: 2
---

<TopBlock>

This document describes the Prisma CLI commands, arguments, and options.

</TopBlock>

## Usage

If you installed Prisma with a package manager, you need to prefix the `prisma` command with your package runner.

### npm

```
npx prisma
```

### Yarn

```
yarn prisma
```

### pnpm

```
pnpx prisma
```

## Synopsis

The `prisma` command can be called from command line once installed. When called without arguments, it will display its command usage and help document:

<CodeWithResult expanded={true}>

<cmd>

```terminal
prisma
```

</cmd>

<cmdResult>

```code no-copy
Prisma is a modern DB toolkit to query, migrate and model your database (https://www.prisma.io)

Usage

  $ prisma [command]

Commands

            init   Setup Prisma for your app
        generate   Generate artifacts (e.g. Prisma Client)
              db   Manage your database schema and lifecycle
         migrate   Migrate your database
          studio   Browse your data with Prisma Studio
        validate   Validate your Prisma schema
          format   Format your Prisma schema

Flags

     --preview-feature   Run Preview Prisma commands

Examples

  Setup a new Prisma project
  $ prisma init

  Generate artifacts (e.g. Prisma Client)
  $ prisma generate

  Browse your data
  $ prisma studio

  Create migrations from your Prisma schema, apply them to the database, generate artifacts (e.g. Prisma Client)
  $ prisma migrate dev

  Pull the schema from an existing database, updating the Prisma schema
  $ prisma db pull

  Push the Prisma schema state to the database
  $ prisma db push
```

</cmdResult>

</CodeWithResult>

You can get additional help on any of the `prisma` commands by adding the `--help` flag after the command.

## Exit codes

All `prisma` CLI commands return the following codes when they exit:

- exit code 0 when a command runs successfully
- exit code 1 when a command errors
- exit code 130 when the CLI receives a signal interrupt (SIGINT) message or if the user cancels a prompt. This exit code is available in Prisma versions 4.3.0 and later.

## Commands

### <inlinecode>version</inlinecode> (<inlinecode>-v</inlinecode>)

The `version` command outputs information about your current `prisma` version, platform, and engine binaries.

#### Options

The `version` command recognizes the following options to modify its behavior:

| Option   | Required | Description                                 |
| -------- | -------- | ------------------------------------------- |
| `--json` | No       | Outputs version information in JSON format. |

#### Examples

##### Output version information

<CodeWithResult expanded={true}>

<cmd>

```terminal
prisma version
```

</cmd>

<cmdResult>

```code no-copy
Environment variables loaded from ./prisma/.env
prisma               : 2.21.0-dev.4
@prisma/client       : 2.21.0-dev.4
Current platform     : windows
Query Engine         : query-engine 2fb8f444d9cdf7c0beee7b041194b42d7a9ce1e6 (at C:\Users\veroh\AppData\Roaming\npm\node_modules\@prisma\cli\query-engine-windows.exe)
Migration Engine     : migration-engine-cli 2fb8f444d9cdf7c0beee7b041194b42d7a9ce1e6 (at C:\Users\veroh\AppData\Roaming\npm\node_modules\@prisma\cli\migration-engine-windows.exe)
Introspection Engine : introspection-core 2fb8f444d9cdf7c0beee7b041194b42d7a9ce1e6 (at C:\Users\veroh\AppData\Roaming\npm\node_modules\@prisma\cli\introspection-engine-windows.exe)
Format Binary        : prisma-fmt 60ba6551f29b17d7d6ce479e5733c70d9c00860e (at node_modules\@prisma\engines\prisma-fmt-windows.exe)
Default Engines Hash : 60ba6551f29b17d7d6ce479e5733c70d9c00860e
Studio               : 0.365.0
```

</cmdResult>

</CodeWithResult>

##### Output version information (<inlinecode>-v</inlinecode>)

<CodeWithResult expanded={true}>

<cmd>

```terminal
prisma -v
```

</cmd>

<cmdResult>

```code no-copy
Environment variables loaded from ./prisma/.env
prisma               : 2.21.0-dev.4
@prisma/client       : 2.21.0-dev.4
Current platform     : windows
Query Engine         : query-engine 2fb8f444d9cdf7c0beee7b041194b42d7a9ce1e6 (at C:\Users\veroh\AppData\Roaming\npm\node_modules\@prisma\cli\query-engine-windows.exe)
Migration Engine     : migration-engine-cli 2fb8f444d9cdf7c0beee7b041194b42d7a9ce1e6 (at C:\Users\veroh\AppData\Roaming\npm\node_modules\@prisma\cli\migration-engine-windows.exe)
Introspection Engine : introspection-core 2fb8f444d9cdf7c0beee7b041194b42d7a9ce1e6 (at C:\Users\veroh\AppData\Roaming\npm\node_modules\@prisma\cli\introspection-engine-windows.exe)
Format Binary        : prisma-fmt 60ba6551f29b17d7d6ce479e5733c70d9c00860e (at node_modules\@prisma\engines\prisma-fmt-windows.exe)
Default Engines Hash : 60ba6551f29b17d7d6ce479e5733c70d9c00860e
Studio               : 0.365.0
```

</cmdResult>

</CodeWithResult>

##### Output version information as JSON

<CodeWithResult expanded={true}>

<cmd>

```terminal
prisma version --json
```

</cmd>

<cmdResult>

```code no-copy
Environment variables loaded from prisma\.env
{
  "prisma": "2.21.0-dev.4",
  "@prisma/client": "2.21.0-dev.4",
  "current-platform": "windows",
  "query-engine": "query-engine 60ba6551f29b17d7d6ce479e5733c70d9c00860e (at node_modules\\@prisma\\engines\\query-engine-windows.exe)",
  "migration-engine": "migration-engine-cli 60ba6551f29b17d7d6ce479e5733c70d9c00860e (at node_modules\\@prisma\\engines\\migration-engine-windows.exe)",
  "introspection-engine": "introspection-core 60ba6551f29b17d7d6ce479e5733c70d9c00860e (at node_modules\\@prisma\\engines\\introspection-engine-windows.exe)",
  "format-binary": "prisma-fmt 60ba6551f29b17d7d6ce479e5733c70d9c00860e (at node_modules\\@prisma\\engines\\prisma-fmt-windows.exe)",
  "default-engines-hash": "60ba6551f29b17d7d6ce479e5733c70d9c00860e",
  "studio": "0.365.0"
}
```

</cmdResult>

</CodeWithResult>

### <inlinecode>init</inlinecode>

Bootstraps a fresh Prisma project within the current directory.

The `init` command does not interpret any existing files. Instead, it creates a `prisma` directory containing a bare-bones `schema.prisma` file within your current directory.

#### Arguments

| Argument                | Required | Description                                                                                                                                                            | Default      |
| ----------------------- | -------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------ |
| `--datasource-provider` | No       | Specifies the default value for the `provider` field in the `datasource` block. Options are `sqlite`, `postgresql`, `mysql`, `sqlserver`, `mongodb` and `cockroachdb`. | `postgresql` |
| `--url`                 | No       | Define a custom datasource url.                                                                                                                                        |              |

#### Examples

##### Run `prisma init`

<CodeWithResult expanded={true}>

<cmd>

```terminal
prisma init
```

</cmd>

<cmdResult>

```code no-copy
âœ” Your Prisma schema was created at prisma/schema.prisma.
  You can now open it in your favorite editor.

Next steps:
1. Set the DATABASE_URL in the .env file to point to your existing database. If your database has no tables yet, read https://pris.ly/d/getting-started
2. Set the provider of the datasource block in schema.prisma to match your database: postgresql, mysql, sqlite, sqlserver, mongodb or cockroachdb.
3. Run prisma db pull to turn your database schema into a Prisma schema.
4. Run prisma generate to generate the Prisma Client. You can then start querying your database.

More information in our documentation:
https://pris.ly/d/getting-started
```

</cmdResult>

</CodeWithResult>

##### Run `prisma init --datasource-provider sqlite`

```terminal
prisma init --datasource-provider sqlite
```

The command output contains helpful information on how to use the generated files and begin using Prisma with your project.

#### Generated Assets

**`prisma/schema.prisma`**

An initial `schema.prisma` file to define your schema in:

```prisma
// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}
```

**`prisma/.env`**

A file to define environment variables for your project:

```
# Environment variables declared in this file are automatically made available to Prisma.
# See the documentation for more detail: https://pris.ly/d/prisma-schema#using-environment-variables

# Prisma supports the native connection string format for PostgreSQL, MySQL, SQLite, SQL Server, MongoDB and CockroachDB.
# See the documentation for all the connection string options: https://pris.ly/d/connection-strings

DATABASE_URL="file:./dev.db"
```

##### Run `prisma init --url mysql://user:password@localhost:3306/mydb`

```terminal
prisma init --url mysql://user:password@localhost:3306/mydb
```

The command output contains helpful information on how to use the generated files and begin using Prisma with your project.

#### Generated Assets

**`prisma/schema.prisma`**

A minimal `schema.prisma` file to define your schema in:

```prisma
// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}
```

**`prisma/.env`**

A file to define environment variables for your project:

```
# Environment variables declared in this file are automatically made available to Prisma.
# See the documentation for more detail: https://pris.ly/d/prisma-schema#using-environment-variables

# Prisma supports the native connection string format for PostgreSQL, MySQL, SQLite, SQL Server, MongoDB and CockroachDB.
# See the documentation for all the connection string options: https://pris.ly/d/connection-strings

DATABASE_URL="mysql://user:password@localhost:3306/mydb"
```

### <inlinecode>generate</inlinecode>

The `generate` command generates assets like Prisma Client based on the [`generator`](/concepts/components/prisma-schema/generators) and [`data model`](/concepts/components/prisma-schema/data-model) blocks defined in your `prisma/schema.prisma` file.

The `generate` command is most often used to generate Prisma Client with the `prisma-client-js` generator. This does three things:

1. Searches the current directory and parent directories to find the applicable `npm` project. It will create a `package.json` file in the current directory if it cannot find one.
2. Installs the `@prisma/client` into the `npm` project if it is not already present.
3. Inspects the current directory to find a Prisma schema file to process. It will then generate a customized [Prisma Client](https://github.com/prisma/prisma-client-js) for your project.

#### Prerequisites

To use the `generate` command, you must add a generator definition in your `schema.prisma` file. The `prisma-client-js` generator, used to generate Prisma Client, can be added by including the following in your `schema.prisma` file:

```prisma
generator client {
  provider = "prisma-client-js"
}
```

#### Options

| Option         | Required | Description                                                                                                           | Default |
| -------------- | -------- | --------------------------------------------------------------------------------------------------------------------- | ------- |
| `--data-proxy` | No       | The `generate` command will generate Prisma Client for use with the [Data Proxy](/data-platform/data-proxy).          |
| `--watch`      | No       | The `generate` command will continue to watch the `schema.prisma` file and re-generate Prisma Client on file changes. |

#### Arguments

| Argument   | Required | Description                                                                                                                                         | Default                                     |
| ---------- | -------- | --------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------- |
| `--schema` | No       | Specifies the path to the desired `schema.prisma` file to be processed instead of the default path. Both absolute and relative paths are supported. | `./schema.prisma`, `./prisma/schema.prisma` |

#### Examples

##### Generate Prisma Client using the default `schema.prisma` path

<CodeWithResult expanded={true}>

<cmd>

```terminal
prisma generate
```

</cmd>

<cmdResult>

```code no-copy
âœ” Generated Prisma Client to ./node_modules/.prisma/client in 61ms

You can now start using Prisma Client in your code:

import { PrismaClient } from '@prisma/client'
// or const { PrismaClient } = require('@prisma/client')

const prisma = new PrismaClient()

Explore the full API: https://pris.ly/d/client
```

</cmdResult>

</CodeWithResult>

##### Generate Prisma Client using a non-default `schema.prisma` path

```terminal
prisma generate --schema=./alternative/schema.prisma
```

##### Continue watching the `schema.prisma` file for changes to automatically re-generate Prisma Client

<CodeWithResult expanded={true}>

<cmd>

```terminal
prisma generate --watch
```

</cmd>

<cmdResult>

```code no-copy
Watching... /home/prismauser/prisma/prisma-play/prisma/schema.prisma

âœ” Generated Prisma Client to ./node_modules/.prisma/client in 45ms
```

</cmdResult>

</CodeWithResult>

#### Generated Assets

The `prisma-client-js` generator creates a customized client for working with your database within the `./node_modules/.prisma/client` directory by default - you can [customize the output folder](/concepts/components/prisma-client/working-with-prismaclient/generating-prisma-client#using-a-custom-output-path).

### <inlinecode>introspect</inlinecode>

<Admonition type="warning">

**Deprecation warning** <br />
From Prisma 3.0.0 onwards, the `prisma introspect` command is deprecated and replaced with the [`prisma db pull`](#db-pull) command.

</Admonition>

### <inlinecode>validate</inlinecode>

Validates the [Prisma Schema Language](https://www.prisma.io/docs/concepts/components/prisma-schema) of the Prisma schema file.

#### Arguments

| Argument   | Required | Description                                                                                                                                         | Default                                     |
| ---------- | -------- | --------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------- |
| `--schema` | No       | Specifies the path to the desired `schema.prisma` file to be processed instead of the default path. Both absolute and relative paths are supported. | `./schema.prisma`, `./prisma/schema.prisma` |

#### Examples

##### Validate a schema without errors

<CodeWithResult>
<cmd>

```terminal
prisma validate
```

</cmd>
<cmdResult>

```code no-copy
Environment variables loaded from prisma/.env
Prisma schema loaded from prisma/schema.prisma
The schema at /absolute/path/prisma/schema.prisma is valid ðŸš€
```

</cmdResult>
</CodeWithResult>

##### Validate a schema with validation errors

<CodeWithResult>
<cmd>

```terminal
prisma validate
```

</cmd>
<cmdResult>

```code no-copy
Environment variables loaded from prisma/.env
Prisma schema loaded from prisma/schema.prisma
Error: Schema validation error - Error (query-engine-node-api library)
Error code: P1012
error: The preview feature "unknownFeatureFlag" is not known. Expected one of: [...]
  -->  schema.prisma:3
   | 
 2 |     provider        = "prisma-client-js"
 3 |     previewFeatures = ["unknownFeatureFlag"]
   | 

Validation Error Count: 1
[Context: getDmmf]

Prisma CLI Version : 4.5.0
```

</cmdResult>
</CodeWithResult>

### <inlinecode>format</inlinecode>

Formats the Prisma schema file, which includes validating, formatting, and persisting the schema.

#### Arguments

| Argument   | Required | Description                                                                                                                                         | Default                                     |
| ---------- | -------- | --------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------- |
| `--schema` | No       | Specifies the path to the desired `schema.prisma` file to be processed instead of the default path. Both absolute and relative paths are supported. | `./schema.prisma`, `./prisma/schema.prisma` |

#### Examples

##### Validate a schema without errors

<CodeWithResult>
<cmd>

```terminal
prisma format
```

</cmd>
<cmdResult>

```code no-copy
Environment variables loaded from prisma/.env
Prisma schema loaded from prisma/schema.prisma
Formatted prisma/schema.prisma in 116ms ï¿½
```

</cmdResult>
</CodeWithResult>

##### Formatting a schema with validation errors

<CodeWithResult>
<cmd>

```terminal
prisma format
```

</cmd>
<cmdResult>

```code no-copy
Environment variables loaded from prisma/.env
Prisma schema loaded from prisma/schema.prisma
Error: Schema validation error - Error (query-engine-node-api library)
Error code: P1012
error: The preview feature "unknownFeatureFlag" is not known. Expected one of: [...]
  -->  schema.prisma:3
   | 
 2 |     provider        = "prisma-client-js"
 3 |     previewFeatures = ["unknownFeatureFlag"]
   | 

Validation Error Count: 1
[Context: getDmmf]

Prisma CLI Version : 4.5.0
```

</cmdResult>
</CodeWithResult>

## <inlinecode>db</inlinecode>

### <inlinecode>db pull</inlinecode>

The `db pull` command connects to your database and adds Prisma models to your Prisma schema that reflect the current database schema.

<Admonition type="warning">

**Warning**: The command will overwrite the current `schema.prisma` file with the new schema. Some manual changes or customization can be lost. Be sure to back up your current `schema.prisma` file (or commit your current state to version control to be able to revert any changes) before running `db pull` if it contains important modifications.

</Admonition>

<Admonition type="info">

Introspection with the `db pull` command on the [MongoDB connector](/concepts/database-connectors/mongodb) samples the data instead of reading a schema.

</Admonition>

#### Prerequisites

Before using the `db pull` command, you must define a valid [`datasource`](/concepts/components/prisma-schema/data-sources) within your `schema.prisma` file.

For example, the following `datasource` defines a SQLite database file within the current directory:

```prisma
datasource db {
  provider = "sqlite"
  url      = "file:my-database.db"
}
```

#### Options

| Option    | Required | Description                                                                                                           | Default |
| --------- | -------- | --------------------------------------------------------------------------------------------------------------------- | ------- |
| `--force` | No       | Force overwrite of manual changes made to schema. The generated schema will be based on the introspected schema only. |
| `--print` | No       | Prints the created `schema.prisma` to the screen instead of writing it to the filesystem.                             |

#### Arguments

| Argument   | Required | Description                                                                                                                                         | Default                                     |
| ---------- | -------- | --------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------- |
| `--schema` | No       | Specifies the path to the desired `schema.prisma` file to be processed instead of the default path. Both absolute and relative paths are supported. | `./schema.prisma`, `./prisma/schema.prisma` |

#### Examples

##### Analyze the database and write its schema to the `schema.prisma` file

<CodeWithResult expanded={true}>

<cmd>

```terminal
prisma db pull
```

</cmd>

<cmdResult>

```code no-copy
Introspecting based on datasource defined in schema.prisma â€¦

âœ” Wrote Prisma data model into schema.prisma in 38ms

Run prisma generate to generate Prisma Client.
```

</cmdResult>

</CodeWithResult>

##### Specify an alternative `schema.prisma` file to read and write to

<CodeWithResult expanded={true}>

<cmd>

```terminal
prisma db pull --schema=./alternative/schema.prisma
```

</cmd>

<cmdResult>

```code no-copy
Introspecting based on datasource defined in alternative/schema.prisma â€¦

âœ” Wrote Prisma data model into alternative/schema.prisma in 60ms

Run prisma generate to generate Prisma Client.
```

</cmdResult>

</CodeWithResult>

##### Display the generated `schema.prisma` file instead of writing it to the filesystem

<CodeWithResult expanded={true}>

<cmd>

```terminal
prisma db pull --print
```

</cmd>

<cmdResult>

```prisma no-copy
generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = "file:./hello-prisma.db"
}

model User {
  email   String    @unique
  name    String?
  user_id Int       @id @default(autoincrement())
  post    Post[]
  profile Profile[]
}

model Post {
  content   String?
  post_id   Int     @id @default(autoincrement())
  title     String
  author    User?   @relation(fields: [author_id], references: [user_id])
  author_id Int?
}

model Profile {
  bio        String?
  profile_id Int     @id @default(autoincrement())
  user       User    @relation(fields: [user_id], references: [user_id])
  user_id    Int     @unique
}
```

</cmdResult>

</CodeWithResult>

### <inlinecode>db push</inlinecode>

The `db push` command pushes the state of your Prisma schema file to the database without using migrations. It creates the database if the database does not exist.

This command is a good choice when you do not need to version schema changes, such as during prototyping and local development.

See also:

- [Conceptual overview of `db push` and when to use it over Prisma Migrate](/concepts/components/prisma-migrate/db-push) <span class="concept"></span>
- [Schema prototyping with `db push`](/guides/database/prototyping-schema-db-push) <span class="guide"></span>

#### Prerequisites

Before using theÂ `db push`Â command, you must define a validÂ [datasource](/concepts/components/prisma-schema/data-sources)Â within yourÂ `schema.prisma`Â file.

For example, the followingÂ `datasource`Â defines a SQLite database file within the current directory:

```prisma
datasource db {
  provider = "sqlite"
  url      = "file:my-database.db"
}
```

#### Options

| Options              | Required | Description                                                                                                                |
| :------------------- | :------- | :------------------------------------------------------------------------------------------------------------------------- |
| `--skip-generate`    | No       | Skip generation of artifacts such as Prisma Client                                                                         |
| `--force-reset`      | No       | Resets the database and then updates the schema - useful if you need to start from scratch due to unexecutable migrations. |
| `--accept-data-loss` | No       | Ignore data loss warnings. This option is required if as a result of making the schema changes, data may be lost.          |
| `--help` / `--h`     | No       | Displays the help message                                                                                                  |

#### Arguments

| Argument   | Required | Description                                                                                                                                       | Default                                          |
| :--------- | :------- | :------------------------------------------------------------------------------------------------------------------------------------------------ | :----------------------------------------------- |
| `--schema` | No       | Specifies the path to the desired schema.prisma file to be processed instead of the default path. Both absolute and relative paths are supported. | `./schema.prisma`<br /> `./prisma/schema.prisma` |

#### Examples

Push the schema:

```terminal
prisma db push
```

Push the schema, accepting data loss:

```terminal
prisma db push --accept-data-loss
```

Push the schema with a custom schema location:

```terminal
prisma db push --schema=/tmp/schema.prisma
```

### <inlinecode>db seed</inlinecode>

`db seed` changed from Preview to Generally Available (GA) in 3.0.1.

See [Seeding your database](/guides/database/seed-database) <span class="guide"></span>

#### Options

| Options          | Required | Description               |
| :--------------- | :------- | :------------------------ |
| `--help` / `--h` | No       | Displays the help message |

#### Examples

```terminal
prisma db seed
```

### <inlinecode>db execute</inlinecode>

<Admonition type="info">

The `db execute` command is generally available in versions 3.13.0 and later. It is available in preview in versions 3.9.0 and later using the `--preview-feature` CLI flag.

</Admonition>

<Admonition type="warning">

This command is currently not supported on [MongoDB](/concepts/database-connectors/mongodb).

</Admonition>

This command applies a SQL script to the database without interacting with the Prisma migrations table. The script takes two inputs:

- the SQL script, which can be provided either on standard input or in a file
- the data source, which can either be the URL of the data source or the path to your Prisma schema file

The output of the command is connector-specific, and is not meant for returning data, but only to report success or failure.

See also:

- [Migration troubleshooting in production](/guides/database/production-troubleshooting#fixing-failed-migrations-with-migrate-diff-and-db-execute) <span class="guide"></span>

#### Prerequisites

Before using the `db execute` command, if you do not use the `--url` option you must define a valid [`datasource`](/concepts/components/prisma-schema/data-sources) within your `schema.prisma` file.

For example, the following `datasource` defines a SQLite database file within the current directory:

```prisma
datasource db {
  provider = "sqlite"
  url      = "file:my-database.db"
}
```

#### Options

One of the following data source inputs is required:

| Options    | Description                                                          |
| :--------- | :------------------------------------------------------------------- |
| `--url`    | URL of the data source to run the command on                         |
| `--schema` | Path to a Prisma schema file, uses the URL in the `datasource` block |

One of the following script inputs is required:

| Options   | Description                                                           |
| :-------- | :-------------------------------------------------------------------- |
| `--stdin` | Use the terminal standard input as the script to be executed          |
| `--file`  | Path to a file. The content will be sent as the script to be executed |

Other options:

| Options  | Required | Description                |
| :------- | :------- | :------------------------- |
| `--help` | No       | Displays the help message. |

#### Examples

- Take the content of a SQL file located at `./script.sql` and execute it on the database specified by the URL in the `datasource` block of your `schema.prisma` file:

  ```terminal
  prisma db execute --file ./script.sql --schema schema.prisma
  ```

- Take the SQL script from standard input and execute it on the database specified by the data source URL given in the `DATABASE_URL` environment variable:

  ```terminal
  $ echo 'TRUNCATE TABLE dev;' | prisma db execute --stdin --url="$DATABASE_URL"
  ```

## Prisma Migrate

Prisma Migrate changed from Preview to Generally Available (GA) in 2.19.0.

<Admonition type="info">

**Does not apply for MongoDB** <br />
Instead of `migrate dev` and related commands, [`db push`](/concepts/components/prisma-migrate/db-push) is used for [MongoDB](/concepts/database-connectors/mongodb).

</Admonition>

### <inlinecode>migrate dev</inlinecode>

**For use in development environments only, requires shadow database**

The `migrate dev` command updates your database using migrations during development and creates the database if it does not exist.

<Admonition type="warning">

This command is not supported on [MongoDB](/concepts/database-connectors/mongodb). Use [`db push`](/concepts/components/prisma-migrate/db-push) instead.

</Admonition>

See also:

- [Conceptual overview of Prisma Migrate](/concepts/components/prisma-migrate) <span class="concept"></span>
- [Developing with Prisma Migrate](/guides/database/developing-with-prisma-migrate) <span class="guide"></span>

#### Options

| Option            | Required | Description                                                                                                                         | Default |
| :---------------- | :------- | :---------------------------------------------------------------------------------------------------------------------------------- | :------ |
| `--create-only`   | No       | Creates a new migration based on the changes in the schema but does not apply that migration. Run `migrate dev` to apply migration. |         |
| `--skip-seed`     | No       | Skip triggering seed                                                                                                                |         |
| `--skip-generate` | No       | Skip triggering generators (for example, Prisma Client)                                                                             |         |
| `--help` / `--h`  | No       | Displays the help message                                                                                                           |

#### Arguments

| Argument   | Required | Description                                                                                                                                       | Default                                          |
| :--------- | :------- | :------------------------------------------------------------------------------------------------------------------------------------------------ | :----------------------------------------------- |
| `--name`   | No       | The name of the migration. If no name is provided, the CLI will prompt you.                                                                       |                                                  |
| `--schema` | No       | Specifies the path to the desired schema.prisma file to be processed instead of the default path. Both absolute and relative paths are supported. | `./schema.prisma`<br /> `./prisma/schema.prisma` |

#### Examples

Apply all migrations, then create and apply any new migrations:

```terminal
prisma migrate dev
```

Apply all migrations and create a new migration if there are schema changes, but do not apply it:

```terminal
prisma migrate dev --create-only
```

### <inlinecode>migrate reset</inlinecode>

**For use in development environments only**

This command deletes and recreates the database, or performs a 'soft reset' by removing all data, tables, indexes, and other artifacts.

<Admonition type="warning">

This command is not supported on [MongoDB](/concepts/database-connectors/mongodb). Use [`db push`](/concepts/components/prisma-migrate/db-push) instead.

</Admonition>

#### Options

| Option            | Required | Description                                             | Default |
| :---------------- | :------- | :------------------------------------------------------ | :------ |
| `--force`         | No       | Skip the confirmation prompt                            |         |
| `--skip-generate` | No       | Skip triggering generators (for example, Prisma Client) |         |
| `--skip-seed`     | No       | Skip triggering seed                                    |         |
| `--help` / `--h`  | No       | Displays the help message                               |

#### Arguments

| Argument   | Required | Description                                                                                                                                       | Default                                          |
| :--------- | :------- | :------------------------------------------------------------------------------------------------------------------------------------------------ | :----------------------------------------------- |
| `--schema` | No       | Specifies the path to the desired schema.prisma file to be processed instead of the default path. Both absolute and relative paths are supported. | `./schema.prisma`<br /> `./prisma/schema.prisma` |

#### Examples

```terminal
prisma migrate reset
```

### <inlinecode>migrate deploy</inlinecode>

The `migrate deploy` command applies all pending migrations, and creates the database if it does not exist. Primarily used in non-development environments. This command:

- Does **not** look for drift in the database or changes in the Prisma schema
- Does **not** reset the database or generate artifacts
- Does **not** rely on a shadow database

<Admonition type="warning">

This command is not supported on [MongoDB](/concepts/database-connectors/mongodb). Use [`db push`](/concepts/components/prisma-migrate/db-push) instead.

</Admonition>

#### Options

| Option           | Required | Description               | Default |
| :--------------- | :------- | :------------------------ | :------ |
| `--help` / `--h` | No       | Displays the help message |

#### Arguments

| Argument   | Required | Description                                                                                                                                       | Default                                          |
| :--------- | :------- | :------------------------------------------------------------------------------------------------------------------------------------------------ | :----------------------------------------------- |
| `--schema` | No       | Specifies the path to the desired schema.prisma file to be processed instead of the default path. Both absolute and relative paths are supported. | `./schema.prisma`<br /> `./prisma/schema.prisma` |

#### Examples

```terminal
prisma migrate deploy
```

### <inlinecode>migrate resolve</inlinecode>

The `migrate resolve` command allows you to solve migration history issues in production by marking a failed migration as already applied (supports baselining) or rolled back.

Note that this command can only be used with a failed migration. If you try to use it with a successful migration you will receive an error.

<Admonition type="warning">

This command is not supported on [MongoDB](/concepts/database-connectors/mongodb). Use [`db push`](/concepts/components/prisma-migrate/db-push) instead.

</Admonition>

#### Options

| Option           | Required | Description               | Default |
| :--------------- | :------- | :------------------------ | :------ |
| `--help` / `--h` | No       | Displays the help message |

#### Arguments

| Argument        | Required | Description                                                                                                                                       | Default                                          |
| :-------------- | :------- | :------------------------------------------------------------------------------------------------------------------------------------------------ | :----------------------------------------------- |
| `--applied`     | No\*     | Record a specific migration as applied - for example `--applied "20201231000000_add_users_table"`                                                 |                                                  |
| `--rolled-back` | No\*     | Record a specific migration as rolled back - for example `--rolled-back "20201231000000_add_users_table"`                                         | `./schema.prisma`<br /> `./prisma/schema.prisma` |
| `--schema`      | No       | Specifies the path to the desired schema.prisma file to be processed instead of the default path. Both absolute and relative paths are supported. | `./schema.prisma`<br /> `./prisma/schema.prisma` |

You must specify either `--rolled-back` _or_ `--applied`.

#### Examples

```terminal
prisma migrate resolve --applied 20201231000000_add_users_table
```

```terminal
prisma migrate resolve --rolled-back 20201231000000_add_users_table
```

### <inlinecode>migrate status</inlinecode>

The `prisma migrate status` command looks up the migrations in `/prisma/migrations/*` folder and the entries in the `_prisma_migrations` table and compiles information about the state of the migrations in your database.

<Admonition type="warning">

This command is not supported on [MongoDB](/concepts/database-connectors/mongodb). Use [`db push`](/concepts/components/prisma-migrate/db-push) instead.

</Admonition>

For example:

```
Status
3 migrations found in prisma/migrations

Your local migration history and the migrations table from your database are different:

The last common migration is: 20201127134938_new_migration

The migration have not yet been applied:
20201208100950_test_migration

The migrations from the database are not found locally in prisma/migrations:
20201208100950_new_migration
```

In versions 4.3.0 and later, `prisma migrate status` exits with exit code 1 in the following cases:

- a database connection error occurs
- there are migration files in the `migrations` directory that have not been applied to the database
- the migration history in the `migrations` directory has diverged from the state of the database
- no migration table is found
- failed migrations are found

#### Options

| Option           | Required | Description               | Default |
| :--------------- | :------- | :------------------------ | :------ |
| `--help` / `--h` | No       | Displays the help message |

#### Arguments

| Argument   | Required | Description                                                                                                                                       | Default                                          |
| :--------- | :------- | :------------------------------------------------------------------------------------------------------------------------------------------------ | :----------------------------------------------- |
| `--schema` | No       | Specifies the path to the desired schema.prisma file to be processed instead of the default path. Both absolute and relative paths are supported. | `./schema.prisma`<br /> `./prisma/schema.prisma` |

#### Examples

```terminal
prisma migrate status
```

### <inlinecode>migrate diff</inlinecode>

<Admonition type="info">

The `migrate diff` command is generally available in versions 3.13.0 and later. It is available in preview in versions 3.9.0 and later using the `--preview-feature` CLI flag.

</Admonition>

<Admonition type="warning">

This command is only partially supported for [MongoDB](/concepts/database-connectors/mongodb). See the command options below for details.

</Admonition>

This command compares two database schema sources and outputs a description of a migration taking the first to the state of the second.

The output can be given either as a human-readable summary (the default) or an executable script.

<Admonition type="warning">

The `migrate diff` command can only compare database features that are [supported by Prisma](/reference/database-reference/database-features). If two databases differ only in unsupported features, such as views or triggers, then `migrate diff` will not show any difference between them.

</Admonition>

The format of the command is:

```terminal
prisma migrate diff --from-... <source1> --to-... <source2>
```

where the `--from-...` and `--to-...` options are selected based on the type of database schema source. The supported types of sources are:

- live databases
- migration histories
- Prisma data models
- an empty schema

Both schema sources must use the same database provider. For example, a diff comparing a PostgreSQL data source with a SQLite data source is not supported.

See also:

- [Migration troubleshooting in production](/guides/database/production-troubleshooting#fixing-failed-migrations-with-migrate-diff-and-db-execute) <span class="guide"></span>

#### Prerequisites

Before using the `migrate diff` command, if you are using the `--from-schema-datasource` or `--to-schema-datasource` you must define a valid [`datasource`](/concepts/components/prisma-schema/data-sources) within your `schema.prisma` file.

For example, the following `datasource` defines a SQLite database file within the current directory:

```prisma
datasource db {
  provider = "sqlite"
  url      = "file:my-database.db"
}
```

#### Options

One of the following `--from-...` options is required:

| Options                    | Description                                                                       | Notes                    |
| :------------------------- | :-------------------------------------------------------------------------------- | :----------------------- |
| `--from-url`               | A data source URL                                                                 |                          |
| `--from-migrations`        | Path to the Prisma Migrate migrations directory                                   | Not supported in MongoDB |
| `--from-schema-datamodel`  | Path to a Prisma schema file, uses the data model for the diff                    |                          |
| `--from-schema-datasource` | Path to a Prisma schema file, uses the URL in the `datasource` block for the diff |                          |
| `--from-empty`             | Assume that you the data model you are migrating from is empty                    |                          |

One of the following `--to-...` options is required:

| Options                  | Description                                                                       | Notes                    |
| :----------------------- | :-------------------------------------------------------------------------------- | :----------------------- |
| `--to-url`               | A data source URL                                                                 |                          |
| `--to-migrations`        | Path to the Prisma Migrate migrations directory                                   | Not supported in MongoDB |
| `--to-schema-datamodel`  | Path to a Prisma schema file, uses the data model for the diff                    |                          |
| `--to-schema-datasource` | Path to a Prisma schema file, uses the URL in the `datasource` block for the diff |                          |
| `--to-empty`             | Assume that you the data model you are migrating to is empty                      |                          |

Other options:

| Options                 | Required | Description                                                                                                                                       | Notes                                                           |
| :---------------------- | :------- | :------------------------------------------------------------------------------------------------------------------------------------------------ | :-------------------------------------------------------------- |
| `--shadow-database-url` | No       | URL for the shadow database                                                                                                                       | Only required if using `--to-migrations` or `--from-migrations` |
| `--script`              | No       | Outputs a SQL script instead of the default human-readable summary                                                                                | Not supported in MongoDB                                        |
| `--exit-code`           | No       | Change the exit code behavior to signal if the diff is empty or not (Empty: 0, Error: 1, Not empty: 2). Default behavior is Success: 0, Error: 1. |                                                                 |
| `--help`                | No       | Displays the help message.                                                                                                                        |                                                                 |

#### Examples

- Compare two databases specified by their data source URL, and output the default human-readable summary:

  ```terminal
  prisma migrate diff \
    --from-url "$DATABASE_URL" \
    --to-url "postgresql://login:password@localhost:5432/db2"
  ```

- Compare the state of a database with a URL of `$DATABASE_URL` to the schema defined by the migrations in the `./migrations` directory, and output the differences to a script `script.sql`:

  ```terminal
  prisma migrate diff \
   --from-url "$DATABASE_URL" \
   --to-migrations ./migrations \
   --script > script.sql
  ```

## Studio

### <inlinecode>studio</inlinecode>

The `studio` command allows you to interact with and manage your data interactively. It does this by starting a local web server with a web app configured with your project's data schema and records.

#### Prerequisites

Before using the `studio` command, you must define a valid [`datasource`](/concepts/components/prisma-schema/data-sources) within your `schema.prisma` file.

For example, the following `datasource` defines a SQLite database file within the current directory:

```prisma
datasource db {
  provider = "sqlite"
  url      = "file:my-database.db"
}
```

#### Options

The `studio` command recognizes the following options:

| Option            | Required | Description                         | Default                  |
| ----------------- | -------- | ----------------------------------- | ------------------------ |
| `-b`, `--browser` | No       | The browser to auto-open Studio in. | `<your-default-browser>` |
| `-h`, `--help`    | No       | Show all available options and exit |                          |
| `-p`, `--port`    | No       | The port number to start Studio on. | 5555                     |

#### Arguments

| Argument   | Required | Description                                                                                                                                       | Default                                          |
| :--------- | :------- | :------------------------------------------------------------------------------------------------------------------------------------------------ | :----------------------------------------------- |
| `--schema` | No       | Specifies the path to the desired schema.prisma file to be processed instead of the default path. Both absolute and relative paths are supported. | `./schema.prisma`<br /> `./prisma/schema.prisma` |

#### Examples

#### Start Studio on the default port and open a new browser tab to it

```terminal
prisma studio
```

#### Start Studio on a different port and open a new browser tab to it

```terminal
prisma studio --port 7777
```

#### Start Studio and open a Firefox tab to it

```terminal
prisma studio --browser firefox
```

#### Start Studio without opening a new browser tab to it

```terminal
prisma studio --browser none
```
