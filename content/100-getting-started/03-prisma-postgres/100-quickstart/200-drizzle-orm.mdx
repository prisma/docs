---
title: 'Use Prisma Postgres with Drizzle ORM'
sidebar_label: 'Drizzle ORM'
metaTitle: 'Quickstart: Drizzle ORM with Prisma Postgres (10 min)'
metaDescription: 'Get started with Drizzle ORM and Prisma Postgres by creating a lightweight, performant TypeScript ORM for your database.'
sidebar_custom_props: { badge: '10 min' }
---

[Drizzle ORM](https://orm.drizzle.team) is a lightweight and performant TypeScript ORM with developer experience in mind. It provides a SQL-like syntax with full TypeScript support and excellent performance. In this guide, you'll learn how to connect Drizzle ORM to [Prisma Postgres](/postgres) and start building type-safe database queries.

## Prerequisites

- **Node.js** - Version 16 or higher
- **TypeScript** - Version 5.0 or higher
- A [Prisma Data Platform](https://console.prisma.io) account
- (Optional) **Drizzle ORM setup** - If you already have Drizzle configured in your project, skip to [step 2](#2-get-your-direct-connection-string)

For detailed Drizzle ORM installation and configuration, see the [Drizzle ORM Getting started guide](https://orm.drizzle.team/docs/get-started-postgresql).

## 1. Create a Prisma Postgres database

Follow these steps to create your Prisma Postgres database:

1. Log in to [Prisma Data Platform](https://console.prisma.io) and open the Console.
2. In a workspace of your choice, click the **New project** button.
3. Type a name for your project in the **Name** field, e.g. `drizzle-quickstart`.
4. In the **Prisma Postgres** section, click the **Get started** button.
5. In the **Region** dropdown, select the region that's closest to your current location, e.g. US East (N. Virginia).
6. Click the **Create project** button.

At this point, you'll be redirected to the Database page where you will need to wait for a few seconds while the status of your database changes from **PROVISIONING** to **CONNECTED**.

Once the green **CONNECTED** label appears, your database is ready to use!

## 2. Get your direct connection string

To connect to Prisma Postgres via direct TCP, you need to:

1. Open your project in the Prisma Console.
2. Navigate to your active Prisma Postgres instance.
3. Click the **API Keys** tab in the project's sidenav.
4. Click the **Create API key** button.
5. In the popup, provide a **Name** for the API key and click **Create**.
6. Copy the connection string starting with `postgres://`, this is your direct connection string.

## 3. Create a new project

Create a new directory for your project and initialize it:

```terminal
mkdir drizzle-quickstart
cd drizzle-quickstart
npm init -y
```

## 4. Configure Drizzle ORM with Prisma Postgres

Define your database schema using Drizzle's schema definition:


```typescript file=schema.ts
import { pgTable, serial, text, varchar, boolean, timestamp, integer } from 'drizzle-orm/pg-core'
import { relations } from 'drizzle-orm'

export const users = pgTable('users', {
  id: serial('id').primaryKey(),
  email: varchar('email', { length: 255 }).notNull().unique(),
  name: text('name'),
  createdAt: timestamp('created_at').defaultNow().notNull(),
})

export const posts = pgTable('posts', {
  id: serial('id').primaryKey(),
  title: varchar('title', { length: 255 }).notNull(),
  content: text('content'),
  published: boolean('published').default(false).notNull(),
  authorId: integer('author_id')
    .notNull()
    .references(() => users.id, { onDelete: 'cascade' }),
  createdAt: timestamp('created_at').defaultNow().notNull(),
})

// Define relations
export const usersRelations = relations(users, ({ many }) => ({
  posts: many(posts),
}))

export const postsRelations = relations(posts, ({ one }) => ({
  author: one(users, {
    fields: [posts.authorId],
    references: [users.id],
  }),
}))
```

Configure Drizzle Kit with your Prisma Postgres connection string:

```typescript file=drizzle.config.ts
import { defineConfig } from 'drizzle-kit'

export default defineConfig({
  schema: './schema.ts',
  out: './drizzle',
  dialect: 'postgresql',
  dbCredentials: {
    url: process.env.DATABASE_URL!,
  },
})
```

Create a `.env` file and add your Prisma Postgres connection string:

```env file=.env
DATABASE_URL="postgres://USER:PASSWORD@db.prisma.io:5432/?sslmode=require"
```

Create a database connection file:

```typescript file=db.ts
import { drizzle } from 'drizzle-orm/node-postgres'
import { Pool } from 'pg'
import * as schema from './schema'

const pool = new Pool({
  connectionString: process.env.DATABASE_URL,
})

export const db = drizzle({ client: pool, schema })
```

## 5. Use Drizzle ORM with Prisma Postgres

Generate and push your schema to the database:

```terminal
npx drizzle-kit push
```

Now you can use Drizzle ORM to query your Prisma Postgres database:

```typescript file=script.ts
import { db } from './db'
import { users, posts } from './schema'
import { eq } from 'drizzle-orm'

async function main() {
  // Insert a user
  const [user] = await db
    .insert(users)
    .values({
      name: 'Alice',
      email: 'alice@prisma.io',
    })
    .returning()

  console.log('Created user:', user)

  // Query users with their posts
  const usersWithPosts = await db.query.users.findMany({
    with: {
      posts: true,
    },
  })

  console.log('Users with posts:', JSON.stringify(usersWithPosts, null, 2))
}

main()
  .then(() => {
    console.log('Done!')
    process.exit(0)
  })
  .catch((error) => {
    console.error('Error:', error)
    process.exit(1)
  })
```

## Next steps

Now that you have Drizzle ORM connected to Prisma Postgres, you can:

- **Learn more about Drizzle** - Check out the [Drizzle ORM documentation](https://orm.drizzle.team/docs/overview) for advanced features
- **Explore queries** - Learn about [select queries](https://orm.drizzle.team/docs/select), [joins](https://orm.drizzle.team/docs/joins), and [transactions](https://orm.drizzle.team/docs/transactions)
- **Manage migrations** - Explore [Drizzle Kit migrations](https://orm.drizzle.team/docs/migrations) for schema management
- **Use relational queries** - Take advantage of [Drizzle's relational query API](https://orm.drizzle.team/docs/rqb) for cleaner code

## More info

- [Drizzle ORM documentation](https://orm.drizzle.team)
- [Drizzle ORM GitHub repository](https://github.com/drizzle-team/drizzle-orm)
- [Prisma Postgres documentation](/postgres)
- [Drizzle Kit documentation](https://orm.drizzle.team/kit-docs/overview)
