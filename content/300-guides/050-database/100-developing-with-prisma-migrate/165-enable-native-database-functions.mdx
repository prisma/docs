---
title: Enable native database functions
metaDecription: How to enable native database functions for projects that use Prisma Migrate.
---

<TopBlock>

Some native database functions are part an extension. For example, `gen_random_uuid()` is part of the [`pgcrypto`](https://www.postgresql.org/docs/10/pgcrypto.html) module. You must install the extension in order to use the function:

```sql
CREATE EXTENSION IF NOT EXISTS pgcrypto;
```

If your project uses [Prisma Migrate](../prisma-migrate), you must install the extension as part of a migration. **Do not** manually install extensions - the [shadow database](../prisma-migrate/shadow-database) requires the same extensions, and since this database is created and deleted automatically, the only way to install extensions is to use migrations.

The following example demonstrates how to install the `pgcrypto` extension as part of a migration:

1. Add the field with the native database function to your schema:

   ```prisma
    model User {
        id   String  @id @db.Uuid @default(dbgenerated("gen_random_uuid()"))
    }
    ```

1. Use the `--create-only` flag to generate a new migration without applying it:

   ```terminal
   npx prisma migrate dev --create-only
   ```

1. Open the generated `migration.sql` file and enable the `pgcrypto` module:

    ```sql
    CREATE EXTENSION IF NOT EXISTS pgcrypto;

    ADD COLUMN     "id" UUID NOT NULL DEFAULT gen_random_uuid(),
    ADD PRIMARY KEY ("id");
    ```

1. Apply the migration:

   ```terminal
   npx prisma migrate dev
   ```

Each time you reset the database or add a new member to your team, all required functions are part of the migration history.

</TopBlock>