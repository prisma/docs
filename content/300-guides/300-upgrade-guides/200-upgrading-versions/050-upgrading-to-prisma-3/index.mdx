---
title: 'Upgrade to Prisma 3'
metaTitle: 'Upgrade to Prisma 3'
metaDescription: 'Guides on how to upgrade to Prisma 3'
tocDepth: 2
toc: true
---

<TopBlock>

Prisma 3 introduces a number of **breaking changes** if you are upgrading from an earlier version (any version pre 3.x), therefore, it is important to understand how this upgrade might affect your application.

Below you will find a list of the breaking changes and how to handle them.

</TopBlock>

## Breaking changes

### [Referential actions](../../../../concepts/components/prisma-schema/relations/referential-actions)

The introduction of referential actions in version 3.x removes the safety net in the Prisma Client that had previously prevented cascading deletes at runtime.

As a result, depending on which workflow you are using to work on your application, you could be impacted. We advise you to check your schema and decide if you need to define referential actions explicitly.

See [Referential action upgrade path](./referential-actions) to understand how to proceed.

### [Named constraints](../../../../concepts/components/prisma-schema/names-in-underlying-database)

We changed the convention followed by Prisma to name constraints and indexes. We also introduced a clear distinction between the `map` attribute (database-level name) and `name` attribute (Prisma client API name) in the PSL to explicitly control how constraints are defined in the Prisma schema.

This means that you will notice an impact when running Prisma `migrate` or `db pull` which will follow this new convention. We advise you to adjust your schema to reflect the names of your constraints and indexes appropriately.

You can check out the [Named constraints upgrade path](./named-constraints) for more information on how to proceed.

### [$queryRaw](../../../../concepts/components/prisma-client/raw-database-access)

From version 3.x onwards, the `$queryRaw` method now only supports a template literal.

This means that if your application relied on `$queryRaw` calls using _strings_, those calls will **not** work anymore. We advise you to use template literals wherever possible for security reasons or resort to `$queryRawUnsafe` otherwise, after carefully escaping queries to prevent SQL injections.

You can learn more about the new `$queryRaw` and `$queryRawUnsafe` methods in the [Raw database access](../../../../concepts/components/prisma-client/raw-database-access) section of the docs.

## Specific upgrade paths

<Subsections />

## Upgrading the <inlinecode>prisma</inlinecode> and <inlinecode>@prisma/client</inlinecode> packages to Prisma 3

To upgrade from version 2.x to 3.x, you need to update both the `prisma` and `@prisma/client` packages. Both the `prisma` and `@prisma/client` packages install with a caret `^` in their version number to safe guard against breaking changes.

To ignore the caret `^` and upgrade across major versions, you can use the `@3` tag when upgrading with `npm`, or `yarn` .

<Admonition type="alert">

Before upgrading, check each **breaking changes** to see how the upgrade might affect your application.

</Admonition>

<TabbedContent tabs={[<FileWithIcon text="npm" icon="file"/>, <FileWithIcon text="yarn" icon="file"/>]}>

<tab>

```terminal
npm install prisma@3 @prisma/client@3
```

</tab>

<tab>

```terminal
yarn upgrade prisma@3 @prisma/client@3
```

</tab>

</TabbedContent>
